{% extends "users/layouts/profile_base.html" %}
{% load static %} 

{% block page_title %}–ü—Ä–æ—Ñ–∏–ª—å{% endblock page_title %}

{% block profile_page_content %}

<div class="container mt-4">

  {% if user == request.user %}
    <h1>–ú–æ–∏ –æ–±—ä—è–≤–ª–µ–Ω–∏—è</h1>
  {% else %}
    <h1>–û–±—ä—è–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {{ user }}</h1>
  {% endif %}
  
  <div class="rating-box mb-4">
    <h6>–†–µ–π—Ç–∏–Ω–≥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è {{ user }}: <span id="trust-percent">{{ trust_percent }}</span>%</h6>
    
    <div class="progress mb-2" style="height: 12px; width: 250px; background-color: #e9ecef;">
    <!-- –ó–µ–ª–µ–Ω–∞—è —á–∞—Å—Ç—å (–ü–æ–∑–∏—Ç–∏–≤) -->
      <div id="pos-bar" class="progress-bar bg-success" role="progressbar" 
        style="width: {{ trust_percent }}%" aria-valuenow="{{ trust_percent }}" aria-valuemin="0" aria-valuemax="100"></div>
        
    <!-- –ö—Ä–∞—Å–Ω–∞—è —á–∞—Å—Ç—å (–ù–µ–≥–∞—Ç–∏–≤)  –≤—ã—á–∏—Å–ª—è–µ–º –æ—Å—Ç–∞—Ç–æ–∫: 100 - trust_percent   -->
      <div id="neg-bar" class="progress-bar bg-danger" role="progressbar" 
        style="width: {{ neg_percent }}%"> 
      </div>
    </div>
    <button class="btn rating-btn {% if user_choice == 'plus' %}btn-success{% else %}btn-outline-success{% endif %} btn-sm" 
      data-url="{% url 'ads:rate_seller' object.id 'plus' %}"
      {% if request.user == object %}disabled{% endif %}>üëç <span id="pos-count">{{ pos_rating }}</span>
    </button>

    <button class="btn rating-btn {% if user_choice == 'minus' %}btn-danger{% else %}btn-outline-danger{% endif %} btn-sm" 
      data-url="{% url 'ads:rate_seller' object.id 'minus' %}"
      {% if request.user == object %}disabled{% endif %}>üëé <span id="neg-count">{{ neg_rating }}</span>
    </button>
</div>

{% block scripts %}
<script type="module" src="{% static 'js/rating.js' %}"></script>
{% endblock scripts %}

  {% include 'ads/includes/ad_list_container.html' %}

</div>
{% endblock profile_page_content %}